<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<title>Bash Syntax Guide - LaRoccx</title>
<meta name=description content="This post is more or less a Bash syntax reference guide and isn&rsquo;t intended to be detailed user guide for learning how to Bash script. It does however, include most of the syntax you&rsquo;ll need to create shell scripts.
Much of this content is borrowed from other authors and open-source content creators. I&rsquo;ve simply combined their works into a easy to follow format. I&rsquo;ll do my best to credit the original author and provide sources whenever possible.">
<meta name=author content="Robert LaRocca">
<link href=https://www.laroccx.com/an-old-hope.min.css rel=stylesheet>
<link href=https://www.laroccx.com/style.css rel=stylesheet>
<link href=https://www.laroccx.com/custom.css rel=stylesheet>
<link rel=apple-touch-icon href=https://www.laroccx.com/apple-touch-icon.png>
<link rel=icon href=https://www.laroccx.com/favicon.ico>
<meta name=generator content="Hugo 0.86.0">
<meta property="og:title" content="Bash Syntax Guide">
<meta property="og:description" content="This post is more or less a Bash syntax reference guide and isn&rsquo;t intended to be detailed user guide for learning how to Bash script. It does however, include most of the syntax you&rsquo;ll need to create shell scripts.
Much of this content is borrowed from other authors and open-source content creators. I&rsquo;ve simply combined their works into a easy to follow format. I&rsquo;ll do my best to credit the original author and provide sources whenever possible.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.laroccx.com/posts/bash-syntax/"><meta property="og:image" content="https://www.laroccx.com/robert_larocca.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-08T03:45:00-04:00">
<meta property="article:modified_time" content="2021-07-08T03:45:00-04:00"><meta property="og:site_name" content="LaRoccx">
<script>function setTheme(){if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');return}const c=new Date,g=localStorage.getItem('date'),d=String(c.getMonth()+1)+'.'+String(c.getDate()),e=c.getTime();let a,b;function f(){if(e>a&&e<b)return;document.body.classList.add('dark')}d!==g?(fetch('https://api.ipgeolocation.io/astronomy?apiKey=5ed37d85103e4defa5df4c5298ed5215').then(a=>a.json()).then(c=>{a=c.sunrise.split(':').map(Number),b=c.sunset.split(':').map(Number)}).catch(()=>{a=[7,0],b=[19,0]}).finally(()=>{a=c.setHours(a[0],a[1],0),b=c.setHours(b[0],b[1],0),f(),localStorage.setItem('sunrise',a),localStorage.setItem('sunset',b)}),localStorage.setItem('date',d)):(a=Number(localStorage.getItem('sunrise')),b=Number(localStorage.getItem('sunset')),f())}</script>
</head>
<body class=single>
<script>setTheme()</script>
<header class=header>
<nav class=nav>
<p class=logo><a href=https://www.laroccx.com/>LaRoccx</a></p>
<ul class=menu>
<li>
<a href=/posts/>Posts</a>
</li>
<li>
<a href=/categories/>Categories</a>
</li>
<li>
<a href=/tags/>Tags</a>
</li>
<li>
<a href=/archives/>Archive</a>
</li>
<li>
<a href=/search/>Search</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>Bash Syntax Guide</h1>
<div class=post-meta>Robert LaRocca 路 July 8, 2021</div>
</header>
<div class=post-content><p>This post is more or less a Bash syntax reference guide and isn&rsquo;t intended to be detailed user guide for learning how to Bash script. It does however, include most of the syntax you&rsquo;ll need to create shell scripts.</p>
<p>Much of this content is borrowed from other authors and <code>open-source</code> content creators. I&rsquo;ve simply combined their works into a easy to follow format. I&rsquo;ll do my best to credit the original author and provide sources whenever possible.</p>
<h2 id=example-script>Example Script</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/env bash
</span><span style=color:#75715e></span>
NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Robert&#34;</span>
echo <span style=color:#e6db74>&#34;Hello </span>$NAME<span style=color:#e6db74>!&#34;</span>
</code></pre></div><h2 id=variables>Variables</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Robert&#34;</span>
echo $NAME        <span style=color:#75715e># Robert</span>
echo <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>      <span style=color:#75715e># Robert</span>
echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>NAME<span style=color:#e6db74>}</span><span style=color:#e6db74>!&#34;</span>   <span style=color:#75715e># Robert!</span>
</code></pre></div><h2 id=string-quotes>String Quotes</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Robert&#34;</span>
echo <span style=color:#e6db74>&#34;Hello </span>$NAME<span style=color:#e6db74>&#34;</span>    <span style=color:#75715e># Hello Robert</span>
echo <span style=color:#e6db74>&#39;Hello $NAME&#39;</span>    <span style=color:#75715e># Hello $NAME</span>
</code></pre></div><h2 id=command-substitution>Command Substitution</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;The current directory is </span><span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><p>See <a href=http://wiki.bash-hackers.org/syntax/expansion/cmdsubst>command substitution</a> for more information.</p>
<h2 id=conditional-execution>Conditional Execution</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit <span style=color:#f92672>&amp;&amp;</span> git push
git commit <span style=color:#f92672>||</span> echo <span style=color:#e6db74>&#34;Commit Failed!&#34;</span>
</code></pre></div><h2 id=functions>Functions</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>display_name<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Robert&#34;</span>
  echo <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

echo <span style=color:#e6db74>&#34;Hello, My name is </span><span style=color:#66d9ef>$(</span>display_name<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h2 id=conditionals>Conditionals</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -z <span style=color:#e6db74>&#34;</span>$variable<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;Variable is empty&#34;</span>
<span style=color:#66d9ef>elif</span> <span style=color:#f92672>[</span> -n <span style=color:#e6db74>&#34;</span>$variable<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;Variable is not empty&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=strict-mode>Strict Mode</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>set -euo pipefail
IFS<span style=color:#f92672>=</span><span style=color:#e6db74>$&#39;\n\t&#39;</span>
</code></pre></div><p>See <a href=http://redsymbol.net/articles/unofficial-bash-strict-mode/>unofficial bash strict mode</a> for more information.</p>
<h2 id=brace-expansion>Brace Expansion</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#f92672>{</span>A,B<span style=color:#f92672>}</span>.sh
</code></pre></div><table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{A,B}</code></td>
<td>Same as <code>A B</code></td>
</tr>
<tr>
<td><code>{A,B}.sh</code></td>
<td>Same as <code>A.sh B.sh</code></td>
</tr>
<tr>
<td><code>{1..5}</code></td>
<td>Same as <code>1 2 3 4 5</code></td>
</tr>
</tbody>
</table>
<p>See <a href=http://wiki.bash-hackers.org/syntax/expansion/brace>brace expansion</a> for more information.</p>
<h2 id=parameter-expansions>Parameter Expansions</h2>
<h3 id=basics>Basics</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Robert&#34;</span>
echo <span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span>          <span style=color:#75715e># &#34;Robert&#34;</span>
echo <span style=color:#e6db74>${</span>name/R/r<span style=color:#e6db74>}</span>      <span style=color:#75715e># &#34;robert&#34; (substitution)</span>
echo <span style=color:#e6db74>${</span>name:0:2<span style=color:#e6db74>}</span>      <span style=color:#75715e># &#34;Ro&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name::2<span style=color:#e6db74>}</span>       <span style=color:#75715e># &#34;Ro&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name:<span style=color:#66d9ef>:-</span>1<span style=color:#e6db74>}</span>      <span style=color:#75715e># &#34;Rob&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name:(-1)<span style=color:#e6db74>}</span>     <span style=color:#75715e># &#34;t&#34; (slicing from right)</span>
echo <span style=color:#e6db74>${</span>name:(-2):1<span style=color:#e6db74>}</span>   <span style=color:#75715e># &#34;r&#34; (slicing from right)</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>length<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
echo <span style=color:#e6db74>${</span>name:0:length<span style=color:#e6db74>}</span>   <span style=color:#75715e># &#34;Ro&#34;</span>
</code></pre></div><p>See <a href=http://wiki.bash-hackers.org/syntax/pe>parameter expansion</a> for more information.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/foo.cpp&#34;</span>
echo <span style=color:#e6db74>${</span>STR%.cpp<span style=color:#e6db74>}</span>      <span style=color:#75715e># /path/to/foo</span>
echo <span style=color:#e6db74>${</span>STR%.cpp<span style=color:#e6db74>}</span>.o    <span style=color:#75715e># /path/to/foo.o</span>
echo <span style=color:#e6db74>${</span>STR%/*<span style=color:#e6db74>}</span>        <span style=color:#75715e># /path/to</span>

echo <span style=color:#e6db74>${</span>STR##*.<span style=color:#e6db74>}</span>       <span style=color:#75715e># cpp (extension)</span>
echo <span style=color:#e6db74>${</span>STR##*/<span style=color:#e6db74>}</span>       <span style=color:#75715e># foo.cpp (basepath)</span>

echo <span style=color:#e6db74>${</span>STR#*/<span style=color:#e6db74>}</span>        <span style=color:#75715e># path/to/foo.cpp</span>
echo <span style=color:#e6db74>${</span>STR##*/<span style=color:#e6db74>}</span>       <span style=color:#75715e># foo.cpp</span>

echo <span style=color:#e6db74>${</span>STR/foo/bar<span style=color:#e6db74>}</span>   <span style=color:#75715e># /path/to/bar.cpp</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Hello World!&#34;</span>
echo <span style=color:#e6db74>${</span>STR:6:5<span style=color:#e6db74>}</span>     <span style=color:#75715e># &#34;World&#34;</span>
echo <span style=color:#e6db74>${</span>STR: -5:5<span style=color:#e6db74>}</span>   <span style=color:#75715e># &#34;orld!&#34;</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>SRC<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/foo.cpp&#34;</span>
BASE<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>SRC##*/<span style=color:#e6db74>}</span>     <span style=color:#75715e># &#34;foo.cpp&#34; (basepath)</span>
DIR<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>SRC%$BASE<span style=color:#e6db74>}</span>    <span style=color:#75715e># &#34;/path/to/&#34; (dirpath)</span>
</code></pre></div><h2 id=substitution>Substitution</h2>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${FOO%suffix}</code></td>
<td>Remove suffix</td>
</tr>
<tr>
<td><code>${FOO#prefix}</code></td>
<td>Remove prefix</td>
</tr>
<tr>
<td><code>${FOO%%suffix}</code></td>
<td>Remove long suffix</td>
</tr>
<tr>
<td><code>${FOO##prefix}</code></td>
<td>Remove long prefix</td>
</tr>
<tr>
<td><code>${FOO/from/to}</code></td>
<td>Replace first match</td>
</tr>
<tr>
<td><code>${FOO//from/to}</code></td>
<td>Replace all</td>
</tr>
<tr>
<td><code>${FOO/%from/to}</code></td>
<td>Replace suffix</td>
</tr>
<tr>
<td><code>${FOO/#from/to}</code></td>
<td>Replace prefix</td>
</tr>
</tbody>
</table>
<h2 id=comments>Comments</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># This is a single line comment!</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># This is a</span>
<span style=color:#75715e># multi-line</span>
<span style=color:#75715e># comment</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>: <span style=color:#e6db74>&#39;
</span><span style=color:#e6db74>This is a
</span><span style=color:#e6db74>multi-line
</span><span style=color:#e6db74>comment
</span><span style=color:#e6db74>&#39;</span>
</code></pre></div><h2 id=substrings>Substrings</h2>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${FOO:0:3}</code></td>
<td>Substring <em>(position, length)</em></td>
</tr>
<tr>
<td><code>${FOO:(-3):3}</code></td>
<td>Substring from the right</td>
</tr>
</tbody>
</table>
<h2 id=length>Length</h2>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${#FOO}</code></td>
<td>Length of <code>$FOO</code></td>
</tr>
</tbody>
</table>
<h2 id=manipulation>Manipulation</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;HELLO WORLD!&#34;</span>
echo <span style=color:#e6db74>${</span>STR,<span style=color:#e6db74>}</span>    <span style=color:#75715e># hELLO WORLD! (first letter lowercase)</span>
echo <span style=color:#e6db74>${</span>STR,,<span style=color:#e6db74>}</span>   <span style=color:#75715e># hello world! (all lowercase)</span>

STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hello world!&#34;</span>
echo <span style=color:#e6db74>${</span>STR^<span style=color:#e6db74>}</span>    <span style=color:#75715e># Hello world! (first letter uppercase)</span>
echo <span style=color:#e6db74>${</span>STR^^<span style=color:#e6db74>}</span>   <span style=color:#75715e># HELLO WORLD! (all uppercase)</span>
</code></pre></div><h2 id=default-values>Default Values</h2>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${FOO:-val}</code></td>
<td><code>$FOO</code>, or <code>val</code> if unset (or null)</td>
</tr>
<tr>
<td><code>${FOO:=val}</code></td>
<td>Set <code>$FOO</code> to <code>val</code> if unset (or null)</td>
</tr>
<tr>
<td><code>${FOO:+val}</code></td>
<td><code>val</code> if <code>$FOO</code> is set (and not null)</td>
</tr>
<tr>
<td><code>${FOO:?message}</code></td>
<td>Show error message and exit if <code>$FOO</code> is unset (or null)</td>
</tr>
</tbody>
</table>
<p>Omitting the <code>:</code> removes the (non)nullity checks. <code>${FOO-val}</code> expands to <code>val</code> if unset otherwise <code>$FOO</code>.</p>
<h2 id=loops>Loops</h2>
<h3 id=basic-for-loop>Basic For Loop</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in /etc/rc.*; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=c-style-for-loop>C-style For Loop</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> <span style=color:#f92672>((</span>i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i &lt; <span style=color:#ae81ff>100</span> ; i++<span style=color:#f92672>))</span>; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=ranges>Ranges</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#f92672>{</span>1..5<span style=color:#f92672>}</span>; <span style=color:#66d9ef>do</span>
  echo <span style=color:#e6db74>&#34;Welcome </span>$i<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=step-size>Step Size</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#f92672>{</span>5..50..5<span style=color:#f92672>}</span>; <span style=color:#66d9ef>do</span>
  echo <span style=color:#e6db74>&#34;Welcome </span>$i<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=reading-lines>Reading Lines</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat file.txt | <span style=color:#66d9ef>while</span> read line; <span style=color:#66d9ef>do</span>
  echo $line
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=forever>Forever</h3>
<p>Be careful when using infinite loops! If, not used properly may crash a running system.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>while</span> true; <span style=color:#66d9ef>do</span>
  路路路
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=functions-1>Functions</h2>
<h3 id=defining-functions>Defining functions</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  echo <span style=color:#e6db74>&#34;Hello </span>$1<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>This function is the same as above, but with alternate syntax.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>function</span> myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  echo <span style=color:#e6db74>&#34;Hello </span>$1<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc <span style=color:#e6db74>&#34;Robert&#34;</span>
</code></pre></div><h3 id=returning-values>Returning Values</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  local myresult<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;some value&#39;</span>
  echo $myresult
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>result<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>myfunc<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h3 id=raising-errors>Raising Errors</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> myfunc; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;success&#34;</span>
<span style=color:#66d9ef>else</span>
  echo <span style=color:#e6db74>&#34;failure&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h3 id=arguments>Arguments</h3>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$#</code></td>
<td>Number of arguments</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>All arguments</td>
</tr>
<tr>
<td><code>$@</code></td>
<td>All arguments, starting from first</td>
</tr>
<tr>
<td><code>$1</code></td>
<td>First argument</td>
</tr>
<tr>
<td><code>$_</code></td>
<td>Last argument of the previous command</td>
</tr>
</tbody>
</table>
<p>See <a href=http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables>special parameters</a> for more information.</p>
<h2 id=conditionals-1>Conditionals</h2>
<h3 id=conditions>Conditions</h3>
<p>Using <code>[[</code> is actually a command-line program that returns either <code>0</code> (true) or <code>1</code> (false). Any program that obeys the same logic can be used as conditionals. All base utilities, such as <code>grep</code> or <code>ping</code> support conditionals.</p>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[[ -z STRING ]]</code></td>
<td>Empty string</td>
</tr>
<tr>
<td><code>[[ -n STRING ]]</code></td>
<td>Not empty string</td>
</tr>
<tr>
<td><code>[[ STRING == STRING ]]</code></td>
<td>Equal</td>
</tr>
<tr>
<td><code>[[ STRING != STRING ]]</code></td>
<td>Not Equal</td>
</tr>
<tr>
<td><code>[[ NUM -eq NUM ]]</code></td>
<td>Equal</td>
</tr>
<tr>
<td><code>[[ NUM -ne NUM ]]</code></td>
<td>Not equal</td>
</tr>
<tr>
<td><code>[[ NUM -lt NUM ]]</code></td>
<td>Less than</td>
</tr>
<tr>
<td><code>[[ NUM -le NUM ]]</code></td>
<td>Less than or equal</td>
</tr>
<tr>
<td><code>[[ NUM -gt NUM ]]</code></td>
<td>Greater than</td>
</tr>
<tr>
<td><code>[[ NUM -ge NUM ]]</code></td>
<td>Greater than or equal</td>
</tr>
<tr>
<td><code>[[ STRING =~ STRING ]]</code></td>
<td>Regexp</td>
</tr>
<tr>
<td><code>(( NUM &lt; NUM ))</code></td>
<td>Numeric conditions</td>
</tr>
</tbody>
</table>
<h4 id=more-conditions>More Conditions</h4>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[[ -o noclobber ]]</code></td>
<td>If OPTIONNAME is enabled</td>
</tr>
<tr>
<td><code>[[ ! EXPR ]]</code></td>
<td>Not</td>
</tr>
<tr>
<td><code>[[ X && Y ]]</code></td>
<td>And</td>
</tr>
<tr>
<td><code>[[ X || Y ]]</code></td>
<td>Or</td>
</tr>
</tbody>
</table>
<h3 id=file-conditions>File Conditions</h3>
<table>
<thead>
<tr>
<th>Condition</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[[ -e FILE ]]</code></td>
<td>Exists</td>
</tr>
<tr>
<td><code>[[ -r FILE ]]</code></td>
<td>Readable</td>
</tr>
<tr>
<td><code>[[ -h FILE ]]</code></td>
<td>Symbolic Link</td>
</tr>
<tr>
<td><code>[[ -d FILE ]]</code></td>
<td>Directory</td>
</tr>
<tr>
<td><code>[[ -w FILE ]]</code></td>
<td>Writable</td>
</tr>
<tr>
<td><code>[[ -s FILE ]]</code></td>
<td>Size <code>></code> 0 bytes</td>
</tr>
<tr>
<td><code>[[ -f FILE ]]</code></td>
<td>File</td>
</tr>
<tr>
<td><code>[[ -x FILE ]]</code></td>
<td>Executable</td>
</tr>
<tr>
<td><code>[[ FILE1 -nt FILE2 ]]</code></td>
<td>1 is more recent than 2</td>
</tr>
<tr>
<td><code>[[ FILE1 -ot FILE2 ]]</code></td>
<td>2 is more recent than 1</td>
</tr>
<tr>
<td><code>[[ FILE1 -ef FILE2 ]]</code></td>
<td>Same files</td>
</tr>
</tbody>
</table>
<h3 id=examples>Examples</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># String</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -z <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is empty&#34;</span>
<span style=color:#66d9ef>elif</span> <span style=color:#f92672>[[</span> -n <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is not empty&#34;</span>
<span style=color:#66d9ef>else</span>
  echo <span style=color:#e6db74>&#34;This never happens&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Combinations</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> X <span style=color:#f92672>&amp;&amp;</span> Y <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  ...
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Equal</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$A<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;</span>$B<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Regex</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;A&#34;</span> <span style=color:#f92672>=</span>~ . <span style=color:#f92672>]]</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span> $a &lt; $b <span style=color:#f92672>))</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74> is smaller than </span>$b<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -e <span style=color:#e6db74>&#34;file.txt&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;file exists&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=arrays>Arrays</h2>
<h3 id=defining-arrays>Defining Arrays</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#39;Apple&#39;</span> <span style=color:#e6db74>&#39;Banana&#39;</span> <span style=color:#e6db74>&#39;Orange&#39;</span><span style=color:#f92672>)</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>[</span>0<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Apple&#34;</span>
Fruits<span style=color:#f92672>[</span>1<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Banana&#34;</span>
Fruits<span style=color:#f92672>[</span>2<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Orange&#34;</span>
</code></pre></div><h3 id=working-with-arrays>Working with Arrays</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>${</span>Fruits[0]<span style=color:#e6db74>}</span>       <span style=color:#75715e># Element #0</span>
echo <span style=color:#e6db74>${</span>Fruits[-1]<span style=color:#e6db74>}</span>      <span style=color:#75715e># Last element</span>
echo <span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span>       <span style=color:#75715e># All elements, space-separated</span>
echo <span style=color:#e6db74>${#</span>Fruits[@]<span style=color:#e6db74>}</span>      <span style=color:#75715e># Number of elements</span>
echo <span style=color:#e6db74>${#</span>Fruits<span style=color:#e6db74>}</span>         <span style=color:#75715e># String length of the 1st element</span>
echo <span style=color:#e6db74>${#</span>Fruits[3]<span style=color:#e6db74>}</span>      <span style=color:#75715e># String length of the Nth element</span>
echo <span style=color:#e6db74>${</span>Fruits[@]:3:2<span style=color:#e6db74>}</span>   <span style=color:#75715e># Range (from position 3, length 2)</span>
echo <span style=color:#e6db74>${</span>!Fruits[@]<span style=color:#e6db74>}</span>      <span style=color:#75715e># Keys of all elements, space-separated</span>
</code></pre></div><h3 id=operations>Operations</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;Watermelon&#34;</span><span style=color:#f92672>)</span>      <span style=color:#75715e># Push</span>
Fruits<span style=color:#f92672>+=(</span><span style=color:#e6db74>&#39;Watermelon&#39;</span><span style=color:#f92672>)</span>                    <span style=color:#75715e># Also Push</span>
Fruits<span style=color:#f92672>=(</span> <span style=color:#e6db74>${</span>Fruits[@]/Ap*/<span style=color:#e6db74>}</span> <span style=color:#f92672>)</span>              <span style=color:#75715e># Remove by regex match</span>
unset Fruits<span style=color:#f92672>[</span>2<span style=color:#f92672>]</span>                           <span style=color:#75715e># Remove one item</span>
Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span>                   <span style=color:#75715e># Duplicate</span>
Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Veggies[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span>   <span style=color:#75715e># Concatenate</span>
lines<span style=color:#f92672>=(</span><span style=color:#e6db74>`</span>cat <span style=color:#e6db74>&#34;logfile&#34;</span><span style=color:#e6db74>`</span><span style=color:#f92672>)</span>                   <span style=color:#75715e># Read from file</span>
</code></pre></div><h3 id=iteration>Iteration</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>arrayName[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=dictionaries>Dictionaries</h2>
<h3 id=defining>Defining</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>declare -A sounds
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sounds<span style=color:#f92672>[</span>dog<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;bark&#34;</span>
sounds<span style=color:#f92672>[</span>cow<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;moo&#34;</span>
sounds<span style=color:#f92672>[</span>bird<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;tweet&#34;</span>
sounds<span style=color:#f92672>[</span>wolf<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;howl&#34;</span>
</code></pre></div><p>Declares <code>sound</code> as a dictionary object (associative array).</p>
<h3 id=working-with-dictionaries>Working with Dictionaries</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>${</span>sounds[dog]<span style=color:#e6db74>}</span>   <span style=color:#75715e># Dog&#39;s sound</span>
echo <span style=color:#e6db74>${</span>sounds[@]<span style=color:#e6db74>}</span>     <span style=color:#75715e># All values</span>
echo <span style=color:#e6db74>${</span>!sounds[@]<span style=color:#e6db74>}</span>    <span style=color:#75715e># All keys</span>
echo <span style=color:#e6db74>${#</span>sounds[@]<span style=color:#e6db74>}</span>    <span style=color:#75715e># Number of elements</span>
unset sounds<span style=color:#f92672>[</span>dog<span style=color:#f92672>]</span>     <span style=color:#75715e># Delete dog</span>
</code></pre></div><h3 id=iteration-1>Iteration</h3>
<h4 id=iterate-over-values>Iterate over Values</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> val in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>sounds[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $val
<span style=color:#66d9ef>done</span>
</code></pre></div><h4 id=iterate-over-keys>Iterate over Keys</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> key in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>!sounds[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $key
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=options>Options</h2>
<h3 id=basic-options>Basic Options</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>set -o noclobber    <span style=color:#75715e># Avoid overlay files (echo &#34;hi&#34; &gt; foo)</span>
set -o errexit      <span style=color:#75715e># Used to exit upon error, avoiding cascading errors</span>
set -o pipefail     <span style=color:#75715e># Unveils hidden failures</span>
set -o nounset      <span style=color:#75715e># Exposes unset variables</span>
</code></pre></div><h3 id=glob-options>Glob Options</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>shopt -s nullglob     <span style=color:#75715e># Non-matching globs are removed  (&#39;*.foo&#39; =&gt; &#39;&#39;)</span>
shopt -s failglob     <span style=color:#75715e># Non-matching globs throw errors</span>
shopt -s nocaseglob   <span style=color:#75715e># Case insensitive globs</span>
shopt -s dotglob      <span style=color:#75715e># Wildcards match dotfiles (&#34;*.sh&#34; =&gt; &#34;.foo.sh&#34;)</span>
shopt -s globstar     <span style=color:#75715e># Allow ** for recursive matches (&#39;lib/**/*.rb&#39; =&gt; &#39;lib/a/b/c.rb&#39;)</span>
</code></pre></div><p>Set <code>GLOBIGNORE</code> as a colon-separated list of patterns to be removed from glob matches.</p>
<h2 id=history>History</h2>
<h3 id=commands>Commands</h3>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>history</code></td>
<td>Show history</td>
</tr>
<tr>
<td><code>shopt -s histverify</code></td>
<td>Don&rsquo;t execute expanded result immediately</td>
</tr>
</tbody>
</table>
<h3 id=expansions>Expansions</h3>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!$</code></td>
<td>Expand last parameter of most recent command</td>
</tr>
<tr>
<td><code>!*</code></td>
<td>Expand all parameters of most recent command</td>
</tr>
<tr>
<td><code>!-n</code></td>
<td>Expand <code>n</code>th most recent command</td>
</tr>
<tr>
<td><code>!n</code></td>
<td>Expand <code>n</code>th command in history</td>
</tr>
<tr>
<td><code>!&lt;command></code></td>
<td>Expand most recent invocation of command <code>&lt;command></code></td>
</tr>
</tbody>
</table>
<h3 id=operations-1>Operations</h3>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!!</code></td>
<td>Execute last command again</td>
</tr>
<tr>
<td><code>!!:s/&lt;FROM>/&lt;TO>/</code></td>
<td>Replace first occurrence of <code>&lt;FROM></code> to <code>&lt;TO></code> in most recent command</td>
</tr>
<tr>
<td><code>!!:gs/&lt;FROM>/&lt;TO>/</code></td>
<td>Replace all occurrences of <code>&lt;FROM></code> to <code>&lt;TO></code> in most recent command</td>
</tr>
<tr>
<td><code>!$:t</code></td>
<td>Expand only basename from last parameter of most recent command</td>
</tr>
<tr>
<td><code>!$:h</code></td>
<td>Expand only directory from last parameter of most recent command</td>
</tr>
</tbody>
</table>
<p><code>!!</code> and <code>!$</code> can be replaced with any valid expansion.</p>
<h3 id=slices>Slices</h3>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!!:n</code></td>
<td>Expand only <code>n</code>th token from most recent command (command is <code>0</code>; first argument is <code>1</code>)</td>
</tr>
<tr>
<td><code>!^</code></td>
<td>Expand first argument from most recent command</td>
</tr>
<tr>
<td><code>!$</code></td>
<td>Expand last token from most recent command</td>
</tr>
<tr>
<td><code>!!:n-m</code></td>
<td>Expand range of tokens from most recent command</td>
</tr>
<tr>
<td><code>!!:n-$</code></td>
<td>Expand <code>n</code>th token to last from most recent command</td>
</tr>
</tbody>
</table>
<p><code>!!</code> can be replaced with any valid expansion i.e. <code>!cat</code>, <code>!-2</code>, <code>!42</code>, etc.</p>
<h2 id=miscellaneous>Miscellaneous</h2>
<h3 id=numeric-calculations>Numeric Calculations</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>$((</span>a <span style=color:#f92672>+</span> <span style=color:#ae81ff>200</span><span style=color:#66d9ef>))</span>    <span style=color:#75715e># Add 200 to $a</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>$((</span>$RANDOM<span style=color:#f92672>%</span><span style=color:#ae81ff>200</span><span style=color:#66d9ef>))</span>    <span style=color:#75715e># Random number 0..199</span>
</code></pre></div><h3 id=sub-shells>Sub-Shells</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>(</span>cd /var/tmp; echo <span style=color:#e6db74>&#34;I&#39;m now in </span>$PWD<span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span>
pwd   <span style=color:#75715e># still in the original directory</span>
</code></pre></div><h3 id=redirection>Redirection</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python hello.py &gt; output.txt    <span style=color:#75715e># stdout to (file)</span>
python hello.py &gt;&gt; output.txt   <span style=color:#75715e># stdout to (file), append</span>
python hello.py 2&gt; error.log    <span style=color:#75715e># stderr to (file)</span>
python hello.py 2&gt;&amp;<span style=color:#ae81ff>1</span>            <span style=color:#75715e># stderr to stdout</span>
python hello.py 2&gt;/dev/null     <span style=color:#75715e># stderr to (null)</span>
python hello.py &amp;&gt;/dev/null     <span style=color:#75715e># stdout and stderr to (null)</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python hello.py &lt; foo.txt   <span style=color:#75715e># feed foo.txt to stdin for python</span>
</code></pre></div><h3 id=inspecting-commands>Inspecting Commands</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>command -V cd   <span style=color:#75715e># &#34;cd is a function/alias/whatever&#34;</span>
</code></pre></div><h3 id=trap-errors>Trap Errors</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>trap <span style=color:#e6db74>&#39;echo Error at about $LINENO&#39;</span> ERR
</code></pre></div><p>or</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>traperr<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  echo <span style=color:#e6db74>&#34;ERROR: </span><span style=color:#e6db74>${</span>BASH_SOURCE[1]<span style=color:#e6db74>}</span><span style=color:#e6db74> at about </span><span style=color:#e6db74>${</span>BASH_LINENO[0]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

set -o errtrace
trap traperr ERR
</code></pre></div><h3 id=case-and-switch>Case and Switch</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> in
  start | up<span style=color:#f92672>)</span>
    vagrant up
    ;;
  *<span style=color:#f92672>)</span>
    echo <span style=color:#e6db74>&#34;Usage: </span>$0<span style=color:#e6db74> {start|stop|ssh}&#34;</span>
    ;;
<span style=color:#66d9ef>esac</span>
</code></pre></div><h3 id=source-relative>Source Relative</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>source <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>0%/*<span style=color:#e6db74>}</span><span style=color:#e6db74>/../share/foo.sh&#34;</span>
</code></pre></div><h3 id=format-and-print-data>Format and Print Data</h3>
<p>Use the <code>printf</code> command to format and print data.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>printf <span style=color:#e6db74>&#34;Hello %s, I&#39;m %s&#34;</span> Sven Olga     <span style=color:#75715e># &#34;Hello Sven, I&#39;m Olga</span>
printf <span style=color:#e6db74>&#34;1 + 1 = %d&#34;</span> <span style=color:#ae81ff>2</span>                   <span style=color:#75715e># &#34;1 + 1 = 2&#34;</span>
printf <span style=color:#e6db74>&#34;How you print a float: %f&#34;</span> <span style=color:#ae81ff>2</span>    <span style=color:#75715e># &#34;This is how you print a float: 2.000000&#34;</span>
</code></pre></div><h3 id=directory-of-script>Directory of Script</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>DIR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>0%/*<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h3 id=getting-options>Getting Options</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>while</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span>~ ^- <span style=color:#f92672>&amp;&amp;</span> ! <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;--&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>do</span> <span style=color:#66d9ef>case</span> $1 in
  -V | --version <span style=color:#f92672>)</span>
    echo $version
    exit
    ;;
  -s | --string <span style=color:#f92672>)</span>
    shift; string<span style=color:#f92672>=</span>$1
    ;;
  -f | --flag <span style=color:#f92672>)</span>
    flag<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
    ;;
<span style=color:#66d9ef>esac</span>; shift; <span style=color:#66d9ef>done</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;--&#39;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  shift
<span style=color:#66d9ef>fi</span>
</code></pre></div><h3 id=heredoc>Heredoc</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cat <span style=color:#e6db74>&lt;&lt;EOF_XYZ
</span><span style=color:#e6db74>hello world
</span><span style=color:#e6db74>EOF_XYZ</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cat <span style=color:#e6db74>&lt;&lt;-EOF_XYZ
</span><span style=color:#e6db74>  hello world
</span><span style=color:#e6db74>  EOF_XYZ</span>
</code></pre></div><h3 id=reading-user-input>Reading User Input</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo -n <span style=color:#e6db74>&#34;Proceed? [y/n]: &#34;</span>
read ans
echo $ans
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>read -n <span style=color:#ae81ff>1</span> ans   <span style=color:#75715e># Just one character</span>
</code></pre></div><h3 id=special-variables>Special Variables</h3>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$?</code></td>
<td>Exit status of last task</td>
</tr>
<tr>
<td><code>$!</code></td>
<td>PID of last background task</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>PID of shell</td>
</tr>
<tr>
<td><code>$0</code></td>
<td>Filename of the shell script</td>
</tr>
</tbody>
</table>
<p>See <a href=http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables>special parameters</a> for more information.</p>
<h3 id=goto-previous-directory>Goto Previous Directory</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pwd   <span style=color:#75715e># /home/user/foo</span>
cd bar/
pwd   <span style=color:#75715e># /home/user/foo/bar</span>
cd -
pwd   <span style=color:#75715e># /home/user/foo</span>
</code></pre></div><h3 id=check-for-command-result>Check for Command Result</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> ping -c <span style=color:#ae81ff>1</span> www.laroccx.com; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;You&#39;re connected to the internet!&#34;</span>
<span style=color:#66d9ef>else</span>
  echo <span style=color:#e6db74>&#34;You&#39;re not connected to the internet!&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=sources>Sources</h2>
<ul>
<li><a href=http://wiki.bash-hackers.org/>The Bash Hackers Wiki</a></li>
<li><a href=http://wiki.bash-hackers.org/syntax/shellvars>Special Parameters and Shell Variables</a></li>
<li><a href=https://www.shellcheck.net/>ShellCheck A Shell Script Analysis Tool</a></li>
</ul></div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://www.laroccx.com/tags/development>development</a></li>
<li><a href=https://www.laroccx.com/tags/scripting>scripting</a></li>
<li><a href=https://www.laroccx.com/tags/bash>bash</a></li>
<li><a href=https://www.laroccx.com/tags/shell>shell</a></li>
</ul>
</footer>
</article></main>
<footer class=footer>
<span>&copy; 2021 <a href=https://www.laroccx.com/>LaRoccx</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo锔锔</a>锔</span>
<span>&#183;</span>
<span>Theme锔 <a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper</a></span>
</footer>
<script src=https://www.laroccx.com/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>